---
title: 虚拟机中设置共享文件夹
date: 2020-04-28 18:12:23
updated: 2020-04-28 18:12:23
author: peachRL
email: 
description: 
categories: 软件
tags: 
	- Linux
aplayer: true
# type: bilibili
# url: https://www.bilibili.com/video/av8153395/
# hide: true
# # hide: index
# sitemap: false
# indexing: false
---


**前提：在vmware中设置共享文件夹，会共享在 /mnt/hgfs里。本文针对找不到 /mnt/hgfs的情况。**
<!-- more -->

- 物理机系统：win10
- 虚拟机系统：deepin 15
- VMware：15，已安装VMware Tools



## 在vmware设置共享文件夹

![image-20200429172919311](https://image.wanyijizi.com/20200428/image-20200429172919311.png)

## 检查共享是否设置好

```shell
sudo vmware-hgfsclient
```

![image-20200429174421649](https://image.wanyijizi.com/20200428/image-20200429174421649.png)

能出现共享的文件夹名称说明之前都设置好了。

## 安装一些必要的软件包

```shell
sudo apt-get install open-vm-tools
```

![image-20200429174722532](https://image.wanyijizi.com/20200428/image-20200429174722532.png)

下面两个二选一，因为可能会遇到找不到软件包的情况。

```shell
sudo apt-get install open-vm-dkms
sudo apt-get install open-vm-tools-dkms
```

![image-20200429174912343](https://image.wanyijizi.com/20200428/image-20200429174912343.png)

## 设置挂载目录

可能有自动生成了可能没有，本文的前提是没有，于是设置一个。自动生成的叫/hgfs，换成别的名字也行

```shell
sudo mkdir /mnt/hgfs
```

![image-20200429175436148](https://image.wanyijizi.com/20200428/image-20200429175436148.png)

## 挂载操作

会根据之前安装的软件包名称的不同而不同。

安装open-vm-dkms，则

```shell
sudo mount -t vmhgfs .host:/ /mnt/hgfs
```

安装open-vm-tools-dkms，则

```shell
vmhgfs-fuse .host:/ /mnt/hgfs
```

此时共享文件夹已经能在/hgfs里看到了。

![image-20200429180017616](https://image.wanyijizi.com/20200428/image-20200429180017616.png)

## 有可能会遇到共享文件夹普通权限打不开

建议重启虚拟机，重新进行挂载操作，改用命令（仅针对安装open-vm-tools-dkms，另一种没遇到不知道）：

```shell
sudo vmhgfs-fuse .host:/ /mnt/hgfs -o subtype=vmhgfs-fuse,allow_other
```

或者也可以选择root进去查看。

## 每次重启需要重新挂载，到底怎么开机自动挂载，还不知道呢